<?xml version="1.0" encoding="utf-8"?>
<Patch>
  <!-- ==================== Chainsaw ==================== -->
  <Operation Class="PatchOperationAdd">
    <xpath>Defs/ThingDef[defName="AdvancedTool_IndustrialChainsaw"]/statBases</xpath>
    <value>
      <Bulk>12</Bulk>
      <MeleeCounterParryBonus>0</MeleeCounterParryBonus>
    </value>
  </Operation>
  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="AdvancedTool_IndustrialChainsaw"]/tools</xpath>
    <value>
      <tools>
        <li Class="CombatExtended.ToolCE">
          <label>chain</label>
          <capacities>
            <li>Cut</li>
          </capacities>
          <power>28</power>
          <cooldownTime>2.5</cooldownTime>
          <armorPenetrationSharp>1.5</armorPenetrationSharp>
          <armorPenetrationBlunt>8.0</armorPenetrationBlunt>
          <chanceFactor>2.0</chanceFactor>
        </li>
        <li Class="CombatExtended.ToolCE">
          <label>body</label>
          <capacities>
            <li>Poke</li>
          </capacities>
          <power>9</power>
          <cooldownTime>1.8</cooldownTime>
          <armorPenetrationBlunt>2.5</armorPenetrationBlunt>
        </li>
      </tools>
    </value>
  </Operation>

  <!-- ==================== Power Saw ==================== -->
  <Operation Class="PatchOperationAdd">
    <xpath>Defs/ThingDef[defName="AdvancedTool_PowerSaw"]/statBases</xpath>
    <value>
      <Bulk>10</Bulk>
      <MeleeCounterParryBonus>0</MeleeCounterParryBonus>
    </value>
  </Operation>
  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="AdvancedTool_PowerSaw"]/tools</xpath>
    <value>
      <tools>
        <li Class="CombatExtended.ToolCE">
          <label>blade</label>
          <capacities>
            <li>Cut</li>
          </capacities>
          <power>9</power>
          <cooldownTime>2.0</cooldownTime>
          <armorPenetrationSharp>10.0</armorPenetrationSharp>
          <armorPenetrationBlunt>3.0</armorPenetrationBlunt>
        </li>
        <li Class="CombatExtended.ToolCE">
          <label>head</label>
          <capacities>
            <li>Demolish</li>
          </capacities>
          <power>7.5</power>
          <cooldownTime>1.5</cooldownTime>
          <armorPenetrationBlunt>5.0</armorPenetrationBlunt>
        </li>
      </tools>
    </value>
  </Operation>

  <!-- ==================== Power Auger ==================== -->
  <Operation Class="PatchOperationAdd">
    <xpath>Defs/ThingDef[defName="AdvancedTool_PowerAuger"]/statBases</xpath>
    <value>
      <Bulk>16</Bulk>
      <MeleeCounterParryBonus>-0.15</MeleeCounterParryBonus>
    </value>
  </Operation>
  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="AdvancedTool_PowerAuger"]/tools</xpath>
    <value>
      <tools>
        <li Class="CombatExtended.ToolCE">
          <label>blade</label>
          <capacities>
            <li>Cut</li>
          </capacities>
          <power>12</power>
          <cooldownTime>1.5</cooldownTime>
          <armorPenetrationSharp>4.0</armorPenetrationSharp>
          <armorPenetrationBlunt>8.0</armorPenetrationBlunt>
        </li>
        <li Class="CombatExtended.ToolCE">
          <label>drill bit</label>
          <capacities>
            <li>Stab</li>
          </capacities>
          <power>15</power>
          <cooldownTime>2.0</cooldownTime>
          <armorPenetrationSharp>6.0</armorPenetrationSharp>
          <armorPenetrationBlunt>12.0</armorPenetrationBlunt>
        </li>
      </tools>
    </value>
  </Operation>

  <!-- ==================== Electric Chisel ==================== -->
  <Operation Class="PatchOperationAdd">
    <xpath>Defs/ThingDef[defName="AdvancedTool_Chisel"]/statBases</xpath>
    <value>
      <Bulk>4</Bulk>
      <MeleeCounterParryBonus>0.10</MeleeCounterParryBonus>
    </value>
  </Operation>

  <Operation Class="PatchOperationAdd">
    <xpath>Defs/ThingDef[defName="AdvancedTool_Chisel"]/weaponTags</xpath>
    <value>
      <li>CE_OneHandedWeapon</li>
    </value>
  </Operation>

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="AdvancedTool_Chisel"]/tools</xpath>
    <value>
      <tools>
        <li Class="CombatExtended.ToolCE">
          <label>chisel tip</label>
          <capacities>
            <li>Stab</li>
          </capacities>
          <power>7</power>
          <cooldownTime>0.9</cooldownTime>
          <armorPenetrationSharp>8.0</armorPenetrationSharp>
          <armorPenetrationBlunt>1.0</armorPenetrationBlunt>
        </li>
        <li Class="CombatExtended.ToolCE">
          <label>edge</label>
          <capacities>
            <li>Scratch</li>
          </capacities>
          <power>5</power>
          <cooldownTime>0.8</cooldownTime>
          <armorPenetrationSharp>2.0</armorPenetrationSharp>
          <armorPenetrationBlunt>0.5</armorPenetrationBlunt>
        </li>
      </tools>
    </value>
  </Operation>

  <!-- ==================== Jackhammer ==================== -->
  <Operation Class="PatchOperationAdd">
    <xpath>Defs/ThingDef[defName="AdvancedTool_Jackhammer"]/statBases</xpath>
    <value>
      <Bulk>18</Bulk>
      <MeleeCounterParryBonus>-0.25</MeleeCounterParryBonus>
    </value>
  </Operation>
  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="AdvancedTool_Jackhammer"]/tools</xpath>
    <value>
      <tools>
        <li Class="CombatExtended.ToolCE">
          <label>bit</label>
          <capacities>
            <li>Poke</li>
          </capacities>
          <power>9</power>
          <cooldownTime>2</cooldownTime>
          <armorPenetrationSharp>10.0</armorPenetrationSharp>
          <armorPenetrationBlunt>1.5</armorPenetrationBlunt>
        </li>
        <li Class="CombatExtended.ToolCE">
          <label>head</label>
          <capacities>
            <li>Demolish</li>
          </capacities>
          <power>7.5</power>
          <cooldownTime>1.5</cooldownTime>
          <armorPenetrationBlunt>15.0</armorPenetrationBlunt>
        </li>
      </tools>
    </value>
  </Operation>

  <!-- ==================== Electric Drill ==================== -->
  <Operation Class="PatchOperationAdd">
    <xpath>Defs/ThingDef[defName="AdvancedTool_Drill"]/statBases</xpath>
    <value>
      <Bulk>5</Bulk>
      <MeleeCounterParryBonus>0.10</MeleeCounterParryBonus>
    </value>
  </Operation>

  <Operation Class="PatchOperationAdd">
    <xpath>Defs/ThingDef[defName="AdvancedTool_Drill"]/weaponTags</xpath>
    <value>
      <li>CE_OneHandedWeapon</li>
    </value>
  </Operation>

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="AdvancedTool_Drill"]/tools</xpath>
    <value>
      <tools>
        <li Class="CombatExtended.ToolCE">
          <label>bit</label>
          <capacities>
            <li>Stab</li>
          </capacities>
          <power>5</power>
          <cooldownTime>1.1</cooldownTime>
          <armorPenetrationSharp>8.0</armorPenetrationSharp>
          <armorPenetrationBlunt>1.0</armorPenetrationBlunt>
        </li>
        <li Class="CombatExtended.ToolCE">
          <label>body</label>
          <capacities>
            <li>Blunt</li>
          </capacities>
          <power>4</power>
          <cooldownTime>1.0</cooldownTime>
          <armorPenetrationBlunt>1.0</armorPenetrationBlunt>
        </li>
      </tools>
    </value>
  </Operation>
</Patch>